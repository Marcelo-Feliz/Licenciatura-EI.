<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <script>



function draw_pes(context, model){
    //pe esquerdo
    c = -model.tempo/200;

    if (model.G == -0.12E-4){
       c = -2.5;  
    }
    
    context.fillStyle = "darkorange";
    context.beginPath();
    context.moveTo(model.x-20,model.y-c+28+1.6 * Math.PI);
    context.lineTo(model.x-20,model.y-c+28+10-1.6 * Math.PI);
    context.quadraticCurveTo(model.x-20,model.y-c+28+10,model.x-20+1.6 * Math.PI,model.y-c+28+10);
    context.lineTo(model.x-20+18-1.6 * Math.PI,model.y-c+28+10);
    context.quadraticCurveTo(model.x-20+18,model.y-c+28+10,model.x-20+18,model.y-c+28+10-1.6 * Math.PI);
    context.lineTo(model.x-20+18,model.y-c+28+1.6 * Math.PI);
    context.quadraticCurveTo(model.x-20+18,model.y-c+28,model.x-20+18-1.6 * Math.PI,model.y-c+28);
    context.lineTo(model.x-20+1.6 * Math.PI,model.y-c+28);
    context.quadraticCurveTo(model.x-20,model.y-c+28,model.x-20,model.y-c+28+1.6 * Math.PI);
    context.fill();
    
    c = -c;
    //pe direito
    context.fillStyle = "darkorange";
    context.beginPath();
    context.moveTo(model.x+3,model.y-c+33+1.6 * Math.PI);
    context.lineTo(model.x+3,model.y-c+33+10-1.6 * Math.PI);
    context.quadraticCurveTo(model.x+3,model.y-c+33+10,model.x+3+1.6 * Math.PI,model.y-c+33+10);
    context.lineTo(model.x+3+18-1.6 * Math.PI,model.y-c+33+10);
    context.quadraticCurveTo(model.x+3+18,model.y-c+33+10,model.x+3+18,model.y-c+33+10-1.6 * Math.PI);
    context.lineTo(model.x+3+18,model.y-c+33+1.6 * Math.PI);
    context.quadraticCurveTo(model.x+3+18,model.y-c+33,model.x+3+18-1.6 * Math.PI,model.y-c+33);
    context.lineTo(model.x+3+1.6 * Math.PI,model.y-c+33);
    context.quadraticCurveTo(model.x+3,model.y-c+33,model.x+3,model.y-c+33+1.6 * Math.PI);
    context.fill();

}
function draw_corpo(context, model){
    //corpo do boneco
    context.beginPath();
    context.arc(model.x, model.y+6, 30, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "ForestGreen";
    context.fill();

    context.beginPath();
    context.rect(model.x-30,model.y+3,60,-27);
    context.closePath();
    context.fillStyle = "ForestGreen";
    context.fill();
}
function draw_orelhas(context, model){
    //desenhar orelhas
    context.beginPath();
    context.arc(model.x-20, model.y-25, 10, 0, 2 * Math.PI);
    context.arc(model.x+20, model.y-25, 10, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "ForestGreen";
    context.fill();

    context.beginPath();
    context.moveTo(model.x-20,model.y);
    context.lineTo(model.x-20,model.y-35);
    context.quadraticCurveTo(model.x,model.y-25,model.x+20,model.y-35);
    context.lineTo(model.x+20,model.y);
    context.fillStyle = "ForestGreen";
    context.fill();
}
function draw_penas(context, model){
    //penas

    context.beginPath();
    context.arc(model.x, model.y+20, 5, (Math.PI/180)*170, (Math.PI/180)*10, true);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();

    context.beginPath();
    context.arc(model.x-7.5, model.y+12.5, 5, (Math.PI/180)*170, (Math.PI/180)*10, true);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();

    context.beginPath();
    context.arc(model.x+7.5, model.y+12.5, 5, (Math.PI/180)*170, (Math.PI/180)*10, true);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();
}
function draw_contornoolhos(context, model){
//Olhos contornos

    context.beginPath();
    context.arc(model.x+15, model.y-5, 10, 0, 2 * Math.PI);
    context.arc(model.x+15, model.y-12.5, 10, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();

    context.beginPath();
    context.arc(model.x-15, model.y-5, 10, 0, 2 * Math.PI);
    context.arc(model.x-15, model.y-12.5, 10, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();

    context.beginPath();
    context.rect(model.x+5,model.y-7.5,20,-5);
    context.rect(model.x-25,model.y-7.5,20,-5);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();

    context.beginPath();
    context.moveTo(model.x+13,model.y-28);
    context.quadraticCurveTo(model.x+17,model.y-24,model.x+15,model.y-22);
    context.quadraticCurveTo(model.x+20,model.y-24,model.x+18,model.y-25);
    context.quadraticCurveTo(model.x+23,model.y-24,model.x+22.5,model.y-15);
    context.lineTo(model.x+15,model.y-2.5);
    context.lineTo(model.x-15,model.y-2.5);
    context.quadraticCurveTo(model.x-23,model.y-24,model.x-22.5,model.y-15);
    context.quadraticCurveTo(model.x-22,model.y-23,model.x-18,model.y-25);
    context.quadraticCurveTo(model.x-17,model.y-25,model.x-15,model.y-22);
    context.quadraticCurveTo(model.x-15,model.y-27,model.x-13,model.y-28);
    context.quadraticCurveTo(model.x,model.y-10,model.x+13,model.y-28);
    context.closePath();
    context.fillStyle = "YellowGreen";
    context.fill();
}
function draw_olhos(context, model){
    
    //Olhos
    context.beginPath();
    context.arc(model.x+15, model.y-7.5, 7.5, 0, 2 * Math.PI);
    context.arc(model.x+15, model.y-10, 7.5, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "white";
    context.fill();

    context.beginPath();
    context.arc(model.x-15, model.y-7.5, 7.5, 0, 2 * Math.PI);
    context.arc(model.x-15, model.y-10, 7.5, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "white";
    context.fill();

    //olho esquerdo
    context.beginPath();
    context.arc(model.x-13, model.y-7.5, 3.5, 0, 2 * Math.PI);
    context.arc(model.x-13, model.y-10, 3.5, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "black";
    context.fill();

    context.beginPath();
    context.arc(model.x-15.5, model.y-12.5, 2, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "white";
    context.fill();

    //olho direito
    context.beginPath();
    context.arc(model.x+13, model.y-7.5, 3.5, 0, 2 * Math.PI);
    context.arc(model.x+13, model.y-10, 3.5, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "black";
    context.fill();

    context.beginPath();
    context.arc(model.x+11, model.y-12.5, 2, 0, 2 * Math.PI);
    context.closePath();
    context.fillStyle = "white";
    context.fill();
}

function draw_bico(context, model){
    
    c = model.tempo/200;

    //bico
    context.beginPath();
    context.arc(model.x, model.y-4+c, 5, (Math.PI/180)*180, (Math.PI/180)*0, true);
    context.closePath();
    context.fillStyle = "darkorange";
    context.fill();

    context.beginPath();
    context.moveTo(model.x, model.y-1);
    context.arc(model.x, model.y-1, 7, (Math.PI/180)*-10, (Math.PI/180)*190, true);
    context.closePath();
    context.fillStyle = "orange";
    context.fill();

    context.beginPath();
    context.moveTo(model.x-2, model.y-6);
    context.quadraticCurveTo(model.x,model.y-8,model.x+2,model.y-6);
    context.quadraticCurveTo(model.x+3,model.y-5,model.x+2,model.y-5);
    context.quadraticCurveTo(model.x,model.y-5,model.x-2,model.y-5);
    context.quadraticCurveTo(model.x-3,model.y-4,model.x-2,model.y-6);
    context.closePath();
    context.fillStyle = "gold";
    context.fill();
}

function draw_asas(context, model){
    
    c = model.tempo2/80;
    if (model.G == 0.12E-4){
       c = 0;  
    }
    


    //asa direita
    context.beginPath();
    context.moveTo(model.x+30, model.y);
    context.lineTo(model.x+37.5+c, model.y+12-c);
    context.quadraticCurveTo(model.x+45, model.y +25,model.x+25, model.y+20);
    context.closePath();
    context.fillStyle = "ForestGreen";
    context.fill();

    //asa esquerda
    context.beginPath();
    context.moveTo(model.x-30, model.y);
    context.lineTo(model.x-37.5-c, model.y+12-c);
    context.quadraticCurveTo(model.x-45, model.y +25,model.x-25, model.y+20);
    context.closePath();
    context.fillStyle = "ForestGreen";
    context.fill();
}



function draw_physmodel(context, model) {
    
    // gradiente
    var grd = context.createLinearGradient(0,0,150,150);
    grd.addColorStop(0,'#ffff00');
    grd.addColorStop(1,'#000000');

    //fundo
    context.beginPath();
    context.rect(model.min_x,model.min_y, model.max_x,model.max_y);
    context.closePath();
    context.fillStyle = grd;
    context.fill();
    
    context.beginPath();
    context.rect(0,0, 500,15);
    context.closePath();
    context.fillStyle = "gray";
    context.fill();

    context.beginPath();
    context.rect(0,500, 500,-10);
    context.closePath();
    context.fillStyle = "gray";
    context.fill();

    
    draw_pes(context, model)
    draw_corpo(context, model)
    draw_orelhas(context, model)
    draw_penas(context, model)
    draw_contornoolhos(context, model)
    draw_olhos(context, model)
    draw_bico(context, model)
    draw_asas(context, model)
}



function main() {
    var context = document.getElementById("acanvas").getContext("2d");

    //
    //      INIT MODEL
    var model = {
        x: 0, y: 600,           //      POSITION
        vx: 0.02, vy: 0,           //      VELOCITY
        ax: 0, ay: 0,           //      ACCELERATION
        r: 50,                 
        min_x: 0, max_x: 500,   //      BOUNDS: X
        min_y: 0, max_y: 500,   //      BOUNDS: Y
        G: 0.12E-4, K: 0.8,      //      PHYSICS CONSTANTS
        tempo: 0,
        tempo2: 0,
        tempoON: true,
        tempoON2: true,
        tempototal: 0,


    };
    //
    //      ANIMATION STEP
    var start = performance.now();      // Record time of animation start
    var previous = performance.now();   // Record time of previous step
    physdemo_step = function (timestamp) {
        var dt = timestamp - previous;  // Time since the previous step
        previous = timestamp;           // Record time of this step
        //
        //      ACCELERATION UPDATE
        
        //
        model.ay = model.G;             // GRAVITY
        //
        //      VELOCITY UPDATE
        model.vx = model.vx + model.ax * dt;
        model.vy = model.vy + model.ay * dt;
        //
        //      POSITION UPDATE
        model.x = model.x + model.vx * dt;
        model.y = model.y + model.vy * dt;
        //
        //      COLLISIONS UPDATE
        if (model.x - model.r < model.min_x) { model.vx = -model.K * model.vx; model.x = model.min_x + model.r; }
        if (model.x + model.r > model.max_x) { model.vx = -model.K * model.vx; model.x = model.max_x - model.r; }
        if (model.y - model.r < model.min_y) { model.vy = -model.K * model.vy; model.y = model.min_y + model.r; }
        if (model.y + model.r > model.max_y) { model.vy = -model.K * model.vy; model.y = model.max_y - model.r; }
        //
        //      DRAW UPDATED MODEL
        draw_physmodel(context, model);
        //
        //      LOOP ANIMATION
        requestAnimationFrame(physdemo_step);


        // tempo para animações
        if (model.tempo >= 1000){model.tempoON = false;}
        if (model.tempo <= 0){model.tempoON = true;}
        if (model.tempoON == true){model.tempo = model.tempo +20; }
        if (model.tempoON == false){model.tempo = model.tempo -20;}
        
        if (model.tempo2 >= 1000){model.tempoON2 = false;}
        if (model.tempo2 <= 0){model.tempoON2 = true;}
        if (model.tempoON2 == true){model.tempo2 = model.tempo2 +40; }
        if (model.tempoON2 == false){model.tempo2 = model.tempo2 -40;}


        // ativa gravidade 
        if (model.tempototal > 250){model.G = -0.12E-4}

        model.tempototal ++;



    }
    //
    //      LOOP ANIMATION
    requestAnimationFrame(physdemo_step);
}



        </script>
    </head>
    <body onload="main();">
        <canvas id="acanvas" width="1000" height="1000"0></canvas>
    </body>
</html>